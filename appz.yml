app:
    name: Application
    code: APPLICATION
    notify: mpmathew@ecloudcontrol.com
    
build:
    version: 2.0
    env: DEV
    build_file: none
    output_files: output/*.zip
    image_template: application-2.0exf

deploy:
    context: exf/DEV
    replicas: 1
    port:
    - 5000

volumes:
  - claim: prefect-data
    mount: /root/.prefect/
    name: prefect_data
    size: 5Gi
    mode: ReadWriteMany
  - claim: insights-testcase-runs
    mount: /root/exf_insights/app/project/components/test360/static/testcase_runs
    name: testcase_runs
    size: 5Gi
    mode: ReadWriteMany
  - claim: application-data
    mount: /root/exf_insights/app/project/static/
    name: static_data
    size: 5Gi
    mode: ReadWriteOnce
    
properties:
    GRAPHQL_SERVICE_HOST_IP: http://apollo-1-4exf-1-4
    GRAPHQL_SERVICE_HOST_PORT: 4200
    TZ: Asia/Kolkata
    SELF_URL: http://application-1-4exf-1-4:5000
    SENTRY_DSN: https://51fe35fdf67f48f189f90e30dee68391@o407436.ingest.sentry.io/5276366
    SAP_DI_URL: https://a7f6ffd48a58940d2b3265b787ac9b07-1111378904.us-east-1.elb.amazonaws.com/
    SQLALCHEMY_DATABASE_URI: sqlite:///static/data/db.sqlite
    MAX_CONTENT_LENGTH: 16777216
    CACHE_TYPE: SimpleCache
    SESSION_TYPE: filesystem
    PREFECT_URL: http://ui-1-4exf-1-4:8080
    GRAPHQL_SERVICE_HOST: http://apollo-1-4exf-1-4:4200
    DEFAULT_PREFECT_TENANT: default
    OPENAI_KEY: ''
    COMPONENTS_APIS: True
    COMPONENTS_BUSINESSCANVAS: True
    COMPONENTS_DASHBOARD: True
    COMPONENTS_DATASOURCE: False
    COMPONENTS_DQRULE: True
    COMPONENTS_LINEAGE: True
    COMPONENTS_MAPRULECAT: True
    COMPONENTS_METADATACATALOG: True
    COMPONENTS_PROCESSKPI: True
    COMPONENTS_PROCESSUNSTRUCTUREDDATA: False
    COMPONENTS_REPAIRSCREEN: True
    COMPONENTS_RUNTRRULE: True
    COMPONENTS_SCREENCOMPONENTS: True
    COMPONENTS_SNOWFLAKEERD: True
    COMPONENTS_STMDMAPPING: True
    COMPONENTS_TRANSFORMATIONRULES: True
    COMPONENTS_WORKFLOW_MANAGER: False
    COMPONENTS_REPAIR_EXCEPTION: False
    COMPONENTS_REVERSE_ENGINEERING: False
    COMPONENTS_ML_MODELS: False
    COMPONENTS_EXFBOT: False
    OUTSIDE_IN_ANALYSIS_APP: False
    COMPONENTS_TEST360: True
    COMPONENTS_IMPORTEXPORTRULES: False
    COMPONENTS_SOURCEMETER: False
    COMPONENTS_MANAGE_CODE_CODEVALUE: False
    COMPONENTS_CODEVALUECATALOG: False
    COMPONENTS_EXFAPI: False
    COMPONENTS_EXFPARSE: False
    COMPONENTS_PREFECT_WORKFLOWS: False
    COMPONENTS_PROCESS_ORCHESTRATION: False
    COMPONENTS_EXFINSIGHTS_DATASOURCE: True
    COMPONENTS_EXFINSIGHTS_REPAIREXCEPTIONS: True
    COMPONENTS_EXFINSIGHTS_IMPORTEXPORTRULES: True
    COMPONENTS_EXFINSIGHTS_MANUALUI: True
    COMPONENTS_EXFINSIGHTS_SOURCEMETER: True
    COMPONENTS_EXFINSIGHTS_CODEVALUECATALOG: True
    COMPONENTS_EXFINSIGHTS_MANAGE_CODE_CODEVALUE: True
    COMPONENTS_EXFINSIGHTS_PREFECT_WORKFLOWS: True
    COMPONENTS_EXFINSIGHTS_PROCESS_ORCHESTRATION: True
    COMPONENTS_EXFINSIGHTS_REPORTING_DASHBOARDS: True
    COMPONENTS_EXFINSIGHTS_PROCESS_UNSTRUCTURED_DATA: False
    COMPONENTS_EXFINSIGHTS_FIS_SF_TASKS: True
    SNOWFLAKE_DB_USER: APPROPRIATE_VALUE
    SNOWFLAKE_DB_ACCOUNT: APPROPRIATE_VALUE
    SNOWFLAKE_DB_WAREHOUSE: APPROPRIATE_VALUE
    SNOWFLAKE_DB_DATABASE: APPROPRIATE_VALUE
    SNOWFLAKE_DB_SCHEMA: APPROPRIATE_VALUE
    MONGO_DB_IP_ADDRESS: http://mongo-7-0exf-7-0
    MONGO_DB_PORT: 27017
    MONGO_DB_USERNAME: admin
    MONGO_DB_DATABASE: APPROPRIATE_VALUE
    MONGO_DB_URI: APPROPRIATE_VALUE
    MICROSOFT_AUTHORITY: https://login.microsoftonline.com/397a7187-1ecd-48d7-94f2-b9094435560c
    MICROSOFT_REDIRECT_PATH: /getAToken
    MICROSOFT_ENDPOINTS: https://graph.microsoft.com/v1.0/users,https://graph.microsoft.com/v1.0/me
    MICROSOFT_SCOPE: User.Read
    DEFAULT_ADMIN_FNAME: admin
    DEFAULT_ADMIN_EMAIL: admin@exafluence.com
    DEFAULT_ADMIN_ACTIVE_TENANT: DEFAULT_ADMIN_TENANT
    DEFAULT_ADMIN_PROPIC_URL: /static/images/avatars/avatar.png
    DEFAULT_EXAFLUENCE_ADMIN_EMAIL: admin@exafluence.com
    DEFAULT_USER_COMPANY: LSEG
    DEFAULT_USER_DESIGNATION: BUSINESS-ANALYST
    DEFAULT_USER_PROPIC_URL: /static/images/avatars/avatar.png
    ELASTICSEARCH_URL: http://elasticsearch-8-1exf-8-13:9200
    ELASTICSEARCH_USERNAME: kibana_user
    # EXFML_DB_NAME: APPROPRIATE_VALUE
    # MAIL_USERNAME: APPROPRIATE_VALUE
    # MAIL_PASSWORD: APPROPRIATE_VALUE
    # MAIL_SENDER: APPROPRIATE_VALUE
    # MAIL_SERVER: APPROPRIATE_VALUE
    # MAIL_PORT: APPROPRIATE_VALUE
    # MAIL_USE_TLS: APPROPRIATE_VALUE
    # MAIL_USE_SSL: APPROPRIATE_VALUE
    # NEO4J_URI: APPROPRIATE_VALUE
    # NEO4J_USER: APPROPRIATE_VALUE
    # NEO4J_PASS: APPROPRIATE_VALUE
    # NEO4J_DB: APPROPRIATE_VALUE
    SF_USER: APPROPRIATE_VALUE
    SF_ACCOUNT: APPROPRIATE_VALUE
    SF_WAREHOUSE: APPROPRIATE_VALUE
    SF_ROLE: APPROPRIATE_VALUE
    SF_SNOWFLAKEDBNAME: APPROPRIATE_VALUE
    SF_SNOWFLAKESCHEMA: APPROPRIATE_VALUE
    AZURE_SQL_SERVER: APPROPRIATE_VALUE
    AZURE_SQL_USERNAME: APPROPRIATE_VALUE
    AZURE_SQL_DATABASE: APPROPRIATE_VALUE
    SECRET_KEY:
      vault: SECRET_KEY
    ENCRYPTION_KEY:
      vault: APP_ENCRYPTION_KEY
    SNOWFLAKE_DB_PASSWORD:
      vault: SNOWFLAKE_DB_PASSWORD
    MONGO_DB_PASSWORD:
      vault: MONGO_INITDB_ROOT_PASSWORD
    MICROSOFT_CLIENT_SECRET:
      vault: MICROSOFT_CLIENT_SECRET
    MICROSOFT_CLIENT_ID:
      vault: MICROSOFT_CLIENT_ID
    DEFAULT_ADMIN_PASSWORD:
      vault: DEFAULT_ADMIN_PASSWORD
    DEFAULT_USER_PASSWORD:
      vault: DEFAULT_USER_PASSWORD
    ELASTICSEARCH_PASSWORD:
      vault: ELASTIC_PASSWORD
    SF_PASSWORD:
      vault: SF_PASSWORD
    AZURE_SQL_PASSWORD:
      vault: AZURE_SQL_PASSWORD
    revision : 50
